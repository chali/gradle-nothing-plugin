plugins {
    id "nebula.plugin-plugin" version "9.1.3"
    id "nebula.maven-publish" version "9.2.0"
    id 'java-gradle-plugin'
}

description 'Gradle plugins to do nothing' // nebula-plugin-plugin sets this as the pluginBundle description

dependencies {
    compile 'com.google.collections:google-collections:1.+' // to verify '1.+' resolves to static version
    compile 'commons-logging:commons-logging:latest.release' // to verify 'latest.release' resolves to static version
}

// Specify the details of each plugin
gradlePlugin {
    plugins {
        nothingPlugin {
            id = 'nebula.nothing-plugin'
            displayName = 'Gradle nothing plugin'
            description = "Plugin that does nothing"
            implementationClass = 'nebula.plugin.nothing.NothingPlugin'
        }
        moreNothingPlugin {
            id = 'nebula.more-nothing-plugin'
            displayName = 'Gradle more nothing plugin'
            description = "Another plugin that does nothing"
            implementationClass = 'nebula.plugin.nothing.MoreNothingPlugin'
        }
    }
}

// These settings are set for the whole plugin bundle
pluginBundle {
    // nebula-plugin-plugin sets the website, vcsUrl, and description

    // tags and description can be set for the whole bundle here, but can also
    // be set / overridden in the config for specific plugins
    tags = ['nebula', 'nothing', 'example']
}

// gradle-contacts-plugin uses this to set contact information in the publications
contacts {
    'justin@halfempty.org' {
        moniker 'Justin Ryan'
        github 'Justin Ryan'
        role 'Developer'
    }
    '2860150+OdysseusLives@users.noreply.github.com' {
        github 'OdysseusLives'
    }
}

publishing {
    repositories {
        maven {
            url = "$buildDir/maven-repo"
        }
    }
    publications {
        // customize all publications of type MavenPublication
        withType(MavenPublication) {
            pom {
                inceptionYear = '2014'
            }
        }
    }
}

dependencyLocking {
    lockAllConfigurations()
}